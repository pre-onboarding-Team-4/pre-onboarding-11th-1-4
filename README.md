## ğŸ“ TODO ì• í”Œë¦¬ì¼€ì´ì…˜

ì›í‹°ë“œ í”„ë¡ íŠ¸ì—”ë“œ ì¸í„´ì‹­ 1ì£¼ì°¨ ê³¼ì œ

## íŒ€ì›

| [@Dain Kim](https://github.com/ekdls1218) | [@guen9310](https://github.com/guen9310) | [@JYROH](https://github.com/ghgt1) | [@Hyeondoonge](https://github.com/Hyeondoonge) | [@JBS](https://github.com/JB-JS) | [@Sangeun Hwang](https://github.com/hsejsx) |
| ----------------------------------------- | ---------------------------------------- | ---------------------------------- | ---------------------------------------------- | -------------------------------- | ------------------------------------------- |
| ê¹€ë‹¤ì¸                                    | ê¶Œë¶€ê·¼                                   | ë…¸ì¤€ì˜                             | ì‹ í˜„ì •                                         | ì •ë²”ìˆ˜                           | í™©ìƒì€                                      |

## ì‹¤í–‰ ë°©ë²•

1. ë¨¼ì € ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ì„œ ë¡œì»¬ í™˜ê²½ìœ¼ë¡œ ë³µì‚¬ë³¸ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.

```
git clone https://github.com/pre-onboarding-Team-4/pre-onboarding-11th-1-4.git
```

2. ê°€ì ¸ì˜¨ ë³µì‚¬ë³¸ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.

```
cd pre-onboarding-11th-1-4
```

3. ê°€ì ¸ì˜¨ í”„ë¡œì íŠ¸ì˜ ì¢…ì†ì„±ì„ ì„¤ì¹˜í•˜ì„¸ìš”.

```
npm install
```

4. ì´ í”„ë¡œì íŠ¸ëŠ” '.env'ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¼ .envë¥¼ ì„¤ì •í•´ ì£¼ì„¸ìš”.

```
1. ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— '.env'íŒŒì¼ì„ ìƒì„± í•©ë‹ˆë‹¤.
2. í…ìŠ¤íŠ¸ í¸ì§‘ê¸°ë¡œ '.env' íŒŒì¼ì„ ì—½ë‹ˆë‹¤.
3. '.env' íŒŒì¼ì— ë‹¤ìŒ ë³€ìˆ˜ì™€ í•´ë‹¹í•˜ëŠ” ê°’ì„ ì…ë ¥í•˜ì„¸ìš”.

REACT_APP_API_END_POINT='https://www.pre-onboarding-selection-task.shop'
```

5. ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì—ˆê³ , .env ì„¤ì •ì´ ì™„ë£Œ ë˜ì—ˆë‹¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
npm start
```

## ë°°í¬ ë§í¬

[ë°”ë¡œê°€ê¸°](https://pre-onboarding-11th-1-4.netlify.app/)

## ê¸°ìˆ  ìŠ¤íƒ

<img src="https://img.shields.io/badge/React-61DAFB?style=flat-square&logo=React&logoColor=black"/> <img src="https://img.shields.io/badge/Javascript-F7DF1E?style=flat-square&logo=javascript&logoColor=black"/> <img src="https://img.shields.io/badge/styled components-DB7093?style=flat-square&logo=styled-components&logoColor=white"/> <img src="https://img.shields.io/badge/Axios-5A29E4?style=flat-square&logo=axios&logoColor=white"/> <img src="https://img.shields.io/badge/React Router-CA4245?style=flat-square&logo=reactrouter&logoColor=white"/> <img src="https://img.shields.io/badge/ESLint-4B32C3?style=flat-square&logo=eslint&logoColor=white"/> <img src="https://img.shields.io/badge/Prettier-F7B93E?style=flat-square&logo=prettier&logoColor=black"/> <img src="https://img.shields.io/badge/Husky-red?style=flat-square&logo=&logoColor=black"/> <img src="https://img.shields.io/badge/Netlify-00C7B7?style=flat-square&logo=&logoColor=black"/>

## íŒ€ê·œì¹™

### 1. ì»¤ë°‹ ì»¨ë²¤ì…˜

```
- feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
- fix: ë²„ê·¸ ìˆ˜ì •
- docs: ë¬¸ì„œ ìˆ˜ì •
- style: ì½”ë“œ í¬ë§·íŒ…, ì„¸ë¯¸ì½œë¡  ëˆ„ë½, ì½”ë“œ ë³€ê²½ì´ ì—†ëŠ” ê²½ìš°
- refactor: ì½”ë“œ ë¦¬í™í† ë§
- test: í…ŒìŠ¤íŠ¸ ì½”ë“œ, ë¦¬í™í† ë§ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€
- chore: ë¹Œë“œ ì—…ë¬´ ìˆ˜ì •, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ìˆ˜ì •
- design: ìŠ¤íƒ€ì¼ ì‘ì—…
```

### 2. íŒŒì¼/í´ë” êµ¬ì¡°

```
ğŸ“¦src
 â”£ ğŸ“‚apis
 â”ƒ â”£ ğŸ“œauth.js
 â”ƒ â”— ğŸ“œtodo.js
 â”£ ğŸ“‚components
 â”ƒ â”£ ğŸ“œAuthForm.jsx
 â”ƒ â”£ ğŸ“œToast.jsx
 â”ƒ â”£ ğŸ“œToastList.jsx
 â”ƒ â”£ ğŸ“œTodoForm.jsx
 â”ƒ â”£ ğŸ“œTodoHeader.jsx
 â”ƒ â”£ ğŸ“œTodoItem.jsx
 â”ƒ â”— ğŸ“œTodoList.jsx
 â”£ ğŸ“‚hooks
 â”ƒ â”— ğŸ“œuseToast.js
 â”£ ğŸ“‚pages
 â”ƒ â”£ ğŸ“œNotFound.jsx
 â”ƒ â”£ ğŸ“œSignIn.jsx
 â”ƒ â”£ ğŸ“œSignUp.jsx
 â”ƒ â”— ğŸ“œTodo.jsx
 â”£ ğŸ“œApp.jsx
 â”£ ğŸ“œGlobalStyle.jsx
 â”£ ğŸ“œindex.jsx
 â”£ ğŸ“œrouter.jsx
 â”— ğŸ“œToastContext.jsx
```

### 3. Style ì»¨ë²¤ì…˜

```
- Styled-Componentë¥¼ í™œìš©í•œ ìŠ¤íƒ€ì¼ë§
- style.jsë¥¼ ë”°ë¡œê°€ì ¸ê°€ì§€ ì•Šê³ , ê° jsx ì»´í¬ë„ŒíŠ¸ í•˜ë‹¨ë¶€ì— ìŠ¤íƒ€ì¼ ì‘ì„±
```

## ì„œë¹„ìŠ¤ ì†Œê°œ

### 1. ê¸°ëŠ¥

- íšŒì›ê°€ì…
- ë¡œê·¸ì¸ ê¸°ëŠ¥
- Todo: ì¶”ê°€, ìˆ˜ì •/ì·¨ì†Œ, ì‚­ì œ ê¸°ëŠ¥
- ì§ì ‘ ë§Œë“  Toast UIë¥¼ í™œìš©í•œ ì‚¬ìš©ì í”¼ë“œë°±
- í† í° ìœ ë¬´ì— ë”°ë¥¸ ë¦¬ë‹¤ì´ë ‰íŠ¸ ê¸°ëŠ¥

| ë¡œê·¸ì¸                   | íšŒì›ê°€ì…                 |
| ------------------------ | ------------------------ |
| ![Alt text](https://github.com/pre-onboarding-Team-4/pre-onboarding-11th-1-4/assets/35508595/88758c6d-e310-4179-bd44-ea971d483847) | ![Alt text](https://github.com/pre-onboarding-Team-4/pre-onboarding-11th-1-4/assets/35508595/fdfb8618-3870-4f08-844b-a84ea53c9094) |

| íšŒì›ê°€ì…(ìœ íš¨ì„±ê²€ì‚¬)     | Image 2                  |
| ------------------------ | ------------------------ |
| ![Alt text](https://github.com/pre-onboarding-Team-4/pre-onboarding-11th-1-4/assets/35508595/c37daaa5-ec66-4840-ac66-88376bb93ea9) | ![Alt text](https://github.com/pre-onboarding-Team-4/pre-onboarding-11th-1-4/assets/35508595/992995a5-51de-4e78-9a17-913ca8f60c9e) |

### 2. Best Practice

> ëª¨ë“  íŒ€ì›ë“¤ì´ ì°¸ì—¬í•˜ì—¬ ì¤‘ì‹¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ìµœì„ ì˜ ë°©ë²•ë“¤ì„ ì„ ì •í–ˆìŠµë‹ˆë‹¤.

---

ğŸ“Œ Todo ì»´í¬ë„ŒíŠ¸ Best Practice ì„ ì •

- useReducerë¥¼ í™œìš©í•œ Todo ìƒíƒœ ê´€ë¦¬

â“ì„ ì •ì´ìœ 

```javascript
//ë¦¬ë“€ì„œ ì„ ì–¸
function todoReducer(state, action) {
  switch (action.type) {
    case 'CREATE':
      return state.concat(action.todo);
    case 'TOGGLE':
      return state.map((todo) =>
        todo.id === action.id ? { ...todo, isCompleted: !todo.isCompleted } : todo
      );
    case 'UPDATE':
      return state.map((todo) =>
        todo.id === action.payload.id ? { ...todo, ...action.payload } : todo
      );
    case 'GET':
      return [...action.todos];
    case 'DELETE':
      return state.filter((todo) => todo.id !== action.id);
    default:
      return [];
  }
}

//ë¦¬ë“€ì„œ ì‚¬ìš©
const createToast = useToast();
const [state, dispatch] = useReducer(todoReducer, []);

const getTodos = async () => {
  try {
    const { todoList, message } = await getTodoList();

    dispatch({ type: 'GET', todos: todoList });
    createToast({ message, type: 'success' });
  } catch (error) {
    createToast({ message: error.message, type: 'warn' });
  }
};
```

- Todoë¼ëŠ” ìƒíƒœë¥¼ ë°˜ë³µë˜ëŠ” ì—¬ëŸ¬ë²ˆì˜ stateë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì´ì—ˆìŠµë‹ˆë‹¤.
- ê¸°ì¡´ì˜ êµ¬í˜„ ë°©ì‹ì€ ì—¬ëŸ¬ë²ˆì˜ setStateê°€ ë‚¨ë°œë˜ì—ˆê³  ì½”ë“œë„ ìƒë‹¹ ë¶€ë¶„ ì¤‘ë³µëì—ˆìŠµë‹ˆë‹¤.
- ë”°ë¼ì„œ í•˜ë‚˜ì˜ `useReducer`ë¥¼ í™œìš©í•œ Todo ê´€ë¦¬ê°€ íš¨ìœ¨ì ì´ë¼ëŠ” ê²°ë¡ ì— ë„ë‹¬í–ˆê³  ë¯¸ë¦¬ ë§Œë“¤ì–´ë‘” dispatch typeì— ë”°ë¼ì„œ ê°„ë‹¨í•˜ê²Œ setStateë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

---

ğŸ“Œ Route Best Practice ì„ ì •

- loaderë¥¼ í™œìš©í•œ Routeë‹¨ì—ì„œì˜ ê¶Œí•œ ë¯¸ë“¤ì›¨ì–´ ì²˜ë¦¬

â“ì„ ì •ì´ìœ 

- ì´ë²ˆ ê³¼ì œì— ìˆì–´ì„œ ê¶Œí•œ(í† í°ì˜ ìœ ë¬´)ì— ë”°ë¼ì„œ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì²˜ë¦¬ë¥¼ í•˜ëŠ” ê²ƒì´ í•µì‹¬ì´ì—ˆìŠµë‹ˆë‹¤.
- ëŒ€ë¶€ë¶„ì˜ íŒ€ì›ë“¤ì€ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì—…í–ˆì—ˆìŠµë‹ˆë‹¤.

```javascript
useEffect(() => {
  if (!localStorage.getItem('accessToken')) {
    navigate('/signin');
  } else {
    getTodoList();
  }
}, []);
```

- íŠ¹ì • í˜ì´ì§€ì— ì»´í¬ë„ŒíŠ¸(í˜ì´ì§€)ê°€ ë§ˆìš´íŠ¸ëì„ë•Œ ê¶Œí•œì„ í™•ì¸í•˜ê³ , ë¦¬ë‹¤ì´ë ‰íŠ¸ë¥¼ ì‹œí‚¤ëŠ” ë¡œì§ì´ì—ˆìŠµë‹ˆë‹¤.
- ê·¸ëŸ¬ë‚˜ í•´ë‹¹ ë¡œì§ì€ ëª‡ê°€ì§€ ë¬¸ì œê°€ ì¡´ì¬í•©ë‹ˆë‹¤
  - useEffectì˜ ì‹¤í–‰ íƒ€ì´ë°ì€ ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ì´í›„ì´ë‹¤. ë”°ë¼ì„œ ë¶ˆí•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ì´ ì´ë£¨ì–´ì§„ë‹¤
  - useEffectë¡œ ì²˜ë¦¬ë¥¼ ì•ˆí•´ë„, ë¶ˆí•„ìš”í•˜ê²Œ í•´ë‹¹ íŒŒì¼ì„ loadí•˜ê³  ì½ëŠ” ê³¼ì •ì´ ì†Œëª¨ëœë‹¤.
- ë”°ë¼ì„œ ì €í¬ëŠ” í˜ì´ì§€ ë¼ìš°íŒ… ì´ì „ì— ì´ëŸ° ê¶Œí•œ ì²´í¬ì˜ í•„ìš”ì„±ì„ ëŠê¼ˆê³  `React-Router-Dom v6`ì˜ `loader`ë¼ëŠ” ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ë¼ìš°íŠ¸ ë‹¨ê³„ì—ì„œì˜ ê¶Œí•œ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.

```javascript
const privateMiddleware = () => {
  const jwt = localStorage.getItem('access_token');
  if (jwt) {
    return true;
  }
  return redirect('/signin');
};

const publicMiddleware = () => {
  const jwt = localStorage.getItem('access_token');
  if (jwt) {
    return redirect('/todo');
  }
  return true;
};

const route = [
  {
    path: '',
    loader: () => redirect('/signin'),
    errorElement: <NotFound />,
  },
  {
    path: '/todo',
    element: <Todo />,
    loader: privateMiddleware,
  },
  {
    path: '/signin',
    element: <SignIn />,
    loader: publicMiddleware,
  },
  {
    path: '/signup',
    element: <SignUp />,
    loader: publicMiddleware,
  },
];
```

- `loader`ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±ì „ì— íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•˜ê²Œ í•´ì¤ë‹ˆë‹¤. ë”°ë¼ì„œ ì»´í¬ë„ŒíŠ¸ ì ‘ê·¼ ì „ì— ê¶Œí•œ ì²´í¬ë¥¼ `privateMiddleware`ì™€ `publicMiddleware`ë¡œ ìˆ˜í–‰í•˜ì—¬ ë¶ˆí•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ ë¡œë“œì™€ ë Œë”ë§ì„ ì‚¬ì „ì— ì°¨ë‹¨í•˜ì˜€ìŠµë‹ˆë‹¤.

---

ğŸ“Œ Toast UI Best Practice ì„ ì •

- `Context API`ë¥¼ í™œìš©í•œ ì „ì—­ Toast UI ë°°ì—´ ìƒíƒœ ê´€ë¦¬

â“ì„ ì •ì´ìœ 

- íŒ€ì›ë“¤ì€ ëª¨ë‘ íŠ¹ì • ë™ì‘(api í˜¸ì¶œì´ë‚˜ localStorage ë¹„ìš°ê¸°)ì— ëŒ€í•œ ìœ ì € í”¼ë“œë°±ì´ ìˆìœ¼ë©´ ì¢‹ê² ë‹¤ëŠ” ì˜ê²¬ì´ ìˆì—ˆìŠµë‹ˆë‹¤.
- ì‚¬ì „ê³¼ì œ ì§„í–‰ì‹œ Toast UI ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œ íŒ€ì›ë„ ìˆì—ˆê³  ì§ì ‘ ë§Œë“  íŒ€ì›ë„ ìˆì—ˆìŠµë‹ˆë‹¤.
- ì´ë²ˆ ê¸°íšŒì— ì œëŒ€ë¡œ Toast UIë¥¼ ë§Œë“¤ì–´ë³´ë©´ ì¢‹ê² ë‹¤ëŠ” ì˜ê²¬ì´ ë‚˜ì™”ê³  ê°œë°œì— ì°©ìˆ˜í–ˆì—ˆìŠµë‹ˆë‹¤.

```javascript
// Toast ì„ ì–¸
export default function Toast({ children }: { children: ReactNode }) {
  return createPortal(
    <Styled.Toast>{children}</Styled.Toast>,
    document.getElementById('toast') as HTMLElement
  );
}

// Toast ì‚¬ìš©(ê° ì»´í¬ë„ŒíŠ¸ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ í˜¸ì¶œ)
const [toast, setToast] = useState({ message: '', index: 0 });
setToast((toast) => ({ message: result.message, index: toast.index + 1 }));
```

- ê¸°ì¡´ì— ê°œë°œëœ Toastì—ëŠ” ì—¬ëŸ¬ê°€ì§€ ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.
- Portalì„ ì´ìš©í•œ rootì™€ì˜ ë¶„ë¦¬ì‘ì—…ì€ ì¢‹ì•˜ìœ¼ë‚˜

  - Toastë¥¼ ìµœëŒ€ í•œê°œë§Œ í˜¸ì¶œ ê°€ëŠ¥í•˜ê³ 
  - Toastë¥¼ ì“°ë ¤ëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ ë§¤ë²ˆ State ìƒì„±ê³¼ setToastì‘ì—…ì´ í•„ìš”í•˜ë‹¤ëŠ” ì ì´ì—ˆìŠµë‹ˆë‹¤.

- ë”°ë¼ì„œ ì´ë¶€ë¶„ì— ê°œì„ ì ì„ ë‘ê³  ì‘ì—…í•˜ì˜€ìŠµë‹ˆë‹¤

```javascript
export const ToastContext = createContext(null);

export default function ToastsContextProvier({ children }) {
  const [toasts, setToasts] = useState([]);
  const data = useMemo(() => [toasts, setToasts], [toasts]);

  return (
    <ToastContext.Provider value={data}>
      {children}
      {createPortal(
        <ToastList>
          {toasts.map(({ message, type }, idx) => (
            <Toast type={type} key={idx}>
              {message}
            </Toast>
          ))}
        </ToastList>,
        document.getElementById('toast')
      )}
    </ToastContext.Provider>
  );
}
```

- ìš°ì„  ì—¬ëŸ¬ê°œì˜ Toastë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ ë°°ì—´ë¡œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ ë°°ì—´ì€ `ToastContext.jsx`ì—ì„œ ì „ì—­ ê´€ë¦¬í•˜ì—¬ ê° í˜ì´ì§€ì—ì„œ ë¬´ë¶„ë³„í•˜ê²Œ stateë¥¼ ìƒì„±, ê´€ë¦¬í•˜ì§€ ì•Šê²Œ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤.
- í•´ë‹¹ ì‘ì—…ì„ ì§„í–‰í•˜ê¸° ìœ„í•´ `Context API`ë¥¼ í™œìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
- ì´ìƒíƒœì—ì„œ Toastë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ Contextë¡œë¶€í„° ë°°ì—´ì„ êº¼ë‚´ê³ , ì¶”ê°€í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.
  - ì´ ì‘ì—…ì€ Toastê°€ í•„ìš”í•œ ëª¨ë“  íŒŒì¼ì—ì„œ ë°˜ë³µë  ê²ƒì´ê¸°ì—, custom hookì„ í™œìš©í•˜ì—¬ ì¶”ìƒí™”í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.

```javascript
export default function useToast() {
  const toastContext = useContext(ToastContext);

  if (!toastContext) throw new Error('Toast providerë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”');

  const [toasts, setToasts] = toastContext;

  const createToast = (toast) => {
    setToasts([...toasts, toast]);
  };

  return createToast;
}
```

- ìœ„ì™€ ê°™ì€ `useToast`í›…ì„ ìƒì„±í•˜ì—¬ ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ í¸í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡ ì‘ì—…í•˜ì˜€ìŠµë‹ˆë‹¤.

---

ğŸ“Œ Axios ì‚¬ìš© Best Practice ì„ ì •

- axios instanceì™€ interceptorë¥¼ í™œìš©í•œ ê³µí†µ í—¤ë” ì„¤ì •, ì—ëŸ¬ ì²˜ë¦¬

â“ì„ ì •ì´ìœ 

- íŒ€ë‚´ì—ì„œ apië¥¼ ëŒ€ë¶€ë¶„ axiosë¥¼ í™œìš©í•˜ì—¬ êµ¬ì„±í•˜ì˜€ì—ˆìŠµë‹ˆë‹¤.
- ì´ë•Œ ë°˜ë³µë˜ëŠ” api header ì„¤ì •ì´ ë§ì•˜ëŠ”ë° ì´ë¥¼ ìµœì†Œí™”í•˜ê¸° ìœ„í•œ axios instanceì™€ interceptorì˜ í™œìš©ì´ ì¢‹ì•„ë³´ì˜€ìŠµë‹ˆë‹¤.

```javascript
const instance = axios.create({
  baseURL: `${process.env.REACT_APP_API_END_POINT}/todos`,
  headers: {
    'Content-Type': 'application/json',
  },
});

instance.interceptors.request.use(
  (config) => {
    const accessToken = localStorage.getItem('access_token');
    const newConfig = config;
    if (accessToken !== undefined) {
      newConfig.headers.Authorization = `Bearer ${accessToken}`;
    }
    return newConfig;
  },
  (error) => {
    return Promise.reject(error);
  }
);

instance.interceptors.response.use(
  (response) => {
    return response;
  },
  (error) => {
    const { data } = error.response;
    if (!data.message) {
      return Promise.reject(new Error('ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.'));
    }
    return Promise.reject(new Error(data.message));
  }
);
```

- axios instanceë¥¼ ìƒì„±í•˜ì—¬ baseUrlê³¼ content-typeì„ ê³µí†µì ìœ¼ë¡œ ëª…ì‹œí•´ì¤¬ìŠµë‹ˆë‹¤.
- request interceptorë¥¼ í™œìš©í•˜ì—¬ access_tokenì„ ë™ì ìœ¼ë¡œ ì£¼ì…í•˜ì˜€ìŠµë‹ˆë‹¤.
  - ì´ë¥¼ í†µí•´ apií˜¸ì¶œì‹œì˜ ì•ˆì „ì¥ì¹˜ì™€ authì¸ì¦ì„ ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° ë¶„ë¦¬í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
- ë˜í•œ response interceptorì—ì„œëŠ” errorë¥¼ ê³µí†µì ìœ¼ë¡œ ê°€ë¡œì±„ì„œ apiì— ì „ì—­ì ìœ¼ë¡œ ë°©ì–´ë¡œì§ì„ ì¶”ê°€í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

---

ğŸ“Œ ì œì–´ì»´í¬ë„ŒíŠ¸ vs ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸

- stateë¥¼ í™œìš©í•œ ì œì–´ ì»´í¬ë„ŒíŠ¸ ë°©ì‹ ì‚¬ìš©

â“ì„ ì •ì´ìœ 

- ë¡œê·¸ì¸/íšŒì›ê°€ì… Input ê¸°ëŠ¥ êµ¬í˜„ ì¤‘ ê³¼ì—° Input ìƒíƒœê´€ë¦¬ê°€ í•„ìš”í•œ ê°€ì— ëŒ€í•œ ê¶ê¸ˆì¦ì´ íŒ€ë‚´ì— ì¡´ì¬í•˜ì˜€ìŠµë‹ˆë‹¤.
- stateë¥¼ í™œìš©í•œ ì œì–´ ì»´í¬ë„ŒíŠ¸ì™€ DOM refë¥¼ í™œìš©í•œ ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ ì¤‘ ì–´ë–¤ ë°©ì‹ì´ ì¢‹ì€ê°€ì— ëŒ€í•œ ì˜ë…¼ì´ ìƒê¸°ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
- ìš°ì„  ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ ì´ìš©ì‹œ, ìƒíƒœê´€ë¦¬ ì—†ì´ ì½”ë“œë¥¼ ë” ê°„ê²°í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆëŠ” ì´ì ì´ ìˆì—ˆìŠµë‹ˆë‹¤. ìƒíƒœ ê´€ë¦¬ ì—†ì´ submit ë‹¨ê³„ì—ì„œì˜ DOM refë¥¼ í†µí•˜ì—¬ ê°’ì„ ë¶ˆëŸ¬ì˜¤ê¸°ë§Œ í•˜ë©´ ëê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

```javascript
// ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ í™œìš©
 const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {
    event.preventDefault();
    const $input = event.target as AuthFormEventTarget;
    const email = $input.email.value;
    const password = $input.password.value;

    const res = await Api.signIn({ email, password });
    if ('message' in res) {
      setToast((toast) => ({ message: res.message, index: toast.index + 1 }));
    } else {
      localStorage.setItem('access_token', res.access_token);
      naviagte(TODO_URL);
    }
  };
```

- ê·¸ëŸ¬ë‚˜ ìš”êµ¬ì‚¬í•­ì„ ë¶„ì„í•´ë³¸ ê²°ê³¼ ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ fieldì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ì—¬ ì—ëŸ¬ë¥¼ ì¶œë ¥í•˜ê±°ë‚˜, buttonì˜ í™œì„±í™” ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.
- ê·¸ë¦¬ê³  ì´ ì‘ì—…ì€ í•„ë“œ ê°’ë“¤ì„ ìƒíƒœë¥¼ ì´ìš©í•´ ê´€ë¦¬í•˜ë©´ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
- ì¦‰ ì‹¤ì‹œê°„ìœ¼ë¡œ ê²€ì¦ì´ í•„ìš”í•œ(validation)ê°’ë“¤ì„ ë‹¤ë£°ë•Œ ì œì–´ ì»´í¬ë„ŒíŠ¸ê°€ í›¨ì”¬ ìœ ë¦¬í•˜ë‹¤ëŠ” ê²°ë¡ ì— ë„ë‹¬í•˜ì˜€ê³  useStateë¥¼ ì´ìš©í•œ `onChange`ìƒíƒœê´€ë¦¬ë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

```javascript
// ì œì–´ ì»´í¬ë„ŒíŠ¸ í™œìš©
const [auth, setAuth] = useState({
  email: '',
  pw: '',
});

const emailOnChange = (e) => {
  const emailInput = {
    ...auth,
    [e.target.name]: e.target.value,
  };
  setAuth(emailInput);
};
```
